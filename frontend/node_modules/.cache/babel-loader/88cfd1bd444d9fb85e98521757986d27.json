{"ast":null,"code":"var _jsxFileName = \"/Users/aaronyan/Shopping-Platform/frontend/src/Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n  callbacks: {\n    signInSuccessWithAuthResult: async authResult => {\n      const userInfo = authResult.additionalUserInfo;\n\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\n        try {\n          await authResult.user.sendEmailVerification();\n          console.log(\"Check your email.\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n      return false;\n    }\n  }\n};\n\nconst signOut = () => {\n  firebase.auth().signOut().then(function () {\n    console.log(\"Successufully Signed out\");\n  }).catch(function () {\n    console.log(\"Error Signed out\");\n  });\n};\n\nconst Signup = () => {\n  _s();\n\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    // eslint-disable-next-line\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged(user => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n  console.log(\"user\", user);\n\n  if (user) {\n    // eslint-disable-next-line\n    class Orders extends React.Component {\n      constructor(...args) {\n        super(...args);\n        this.state = {\n          orders: null\n        };\n      }\n\n      async componentDidMount() {\n        const response = await fetch('<http://localhost:4000//users/orders>');\n        const orders = await response.json(); // save it to your components state so you can use it during render\n\n        this.setState({\n          orders: orders\n        });\n        console.log(orders);\n      }\n\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Orders\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: signOut,\n          children: \"Sign out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Sign up / Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyleFirebaseAuth, {\n        uiConfig: uiConfig,\n        firebaseAuth: firebase.auth()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n};\n\n_s(Signup, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/aaronyan/Shopping-Platform/frontend/src/Signup.js"],"names":["React","useState","useEffect","firebase","StyleFirebaseAuth","uiConfig","signInFlow","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","callbacks","signInSuccessWithAuthResult","authResult","userInfo","additionalUserInfo","isNewUser","providerId","user","sendEmailVerification","console","log","e","signOut","then","catch","Signup","setUser","currentUser","authObserver","onAuthStateChanged","Orders","Component","state","orders","componentDidMount","response","fetch","json","setState"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n  ],\n  callbacks: {\n    signInSuccessWithAuthResult: async (authResult) => {\n      const userInfo = authResult.additionalUserInfo;\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\n        try {\n          await authResult.user.sendEmailVerification();\n          console.log(\"Check your email.\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n      return false;\n    },\n  },\n};\n\nconst signOut = () => {\n  firebase\n    .auth()\n    .signOut()\n    .then(function () {\n      console.log(\"Successufully Signed out\");\n    })\n    .catch(function () {\n      console.log(\"Error Signed out\");\n    });\n};\n\nconst Signup = () => {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // eslint-disable-next-line\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n\n  console.log(\"user\", user);\n\n  if (user) {\n    // eslint-disable-next-line\n    class Orders extends React.Component {\n      state = {\n        orders: null\n      }\n    \n      async componentDidMount() {\n        const response = await fetch('<http://localhost:4000//users/orders>')\n        const orders = await response.json()\n        // save it to your components state so you can use it during render\n        this.setState({orders: orders})\n        console.log(orders)\n      }\n    }\n    return (\n      <>\n        <p>\n          Orders\n          <button onClick={signOut}>Sign out</button>\n        </p>\n      </>\n\n    );\n  } else {\n    return (\n      <>\n        <div>Sign up / Register</div>\n        <StyleFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </>\n    );\n  }\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}