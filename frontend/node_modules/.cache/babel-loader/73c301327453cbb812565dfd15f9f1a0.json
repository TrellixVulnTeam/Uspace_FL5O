{"ast":null,"code":"var _jsxFileName = \"/Users/aaronyan/Shopping-Platform/frontend/src/Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n  callbacks: {\n    signInSuccessWithAuthResult: async authResult => {\n      const userInfo = authResult.additionalUserInfo;\n\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\n        try {\n          await authResult.user.sendEmailVerification();\n          console.log(\"Check your email.\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n      return false;\n    }\n  }\n};\n\nconst signOut = () => {\n  firebase.auth().signOut().then(function () {\n    console.log(\"Successufully Signed out\");\n  }).catch(function () {\n    console.log(\"Error Signed out\");\n  });\n};\n\nconst Signup = () => {\n  _s();\n\n  const [user, setUser] = useState(null);\n  let history = useHistory();\n  useEffect(() => {\n    // eslint-disable-next-line\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged(user => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n  console.log(\"user\", user);\n\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user.displayName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: signOut,\n          children: \"Sign out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            history.push(\"/Orders\");\n          },\n          children: \"Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Sign up / Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyleFirebaseAuth, {\n        uiConfig: uiConfig,\n        firebaseAuth: firebase.auth()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n};\n\n_s(Signup, \"/QpcJpnLiZre60+tOBikqUFqboc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/aaronyan/Shopping-Platform/frontend/src/Signup.js"],"names":["React","useState","useEffect","firebase","StyleFirebaseAuth","useHistory","uiConfig","signInFlow","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","callbacks","signInSuccessWithAuthResult","authResult","userInfo","additionalUserInfo","isNewUser","providerId","user","sendEmailVerification","console","log","e","signOut","then","catch","Signup","setUser","history","currentUser","authObserver","onAuthStateChanged","displayName","email","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport {useHistory} from \"react-router-dom\"\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n  ],\n  callbacks: {\n    signInSuccessWithAuthResult: async (authResult) => {\n      const userInfo = authResult.additionalUserInfo;\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\n        try {\n          await authResult.user.sendEmailVerification();\n          console.log(\"Check your email.\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n      return false;\n    },\n  },\n};\n\nconst signOut = () => {\n  firebase\n    .auth()\n    .signOut()\n    .then(function () {\n      console.log(\"Successufully Signed out\");\n    })\n    .catch(function () {\n      console.log(\"Error Signed out\");\n    });\n};\n\nconst Signup = () => {\n  const [user, setUser] = useState(null);\n  let history = useHistory();\n  useEffect(() => {\n    // eslint-disable-next-line\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n\n  console.log(\"user\", user);\n\n  if (user) {\n    \n    return (\n      <>\n        <p>\n          Welcome, {user.displayName} <br />\n          <small>{user.email}</small> <br />\n          <button onClick={signOut}>Sign out</button>\n          <button onClick={() => {history.push(\"/Orders\")}}>Order</button>\n        </p>\n      </>\n\n    );\n  } else {\n    return (\n      <>\n        <div>Sign up / Register</div>\n        <StyleFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </>\n    );\n  }\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}