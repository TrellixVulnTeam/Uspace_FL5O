{"ast":null,"code":"var _jsxFileName = \"/Users/aaronyan/Shopping-Platform/frontend/src/Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport Mainpage from \"./Mainpage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n  callbacks: {\n    signInSuccessWithAuthResult: async authResult => {\n      const userInfo = authResult.additionalUserInfo;\n\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\n        try {\n          await authResult.user.sendEmailVerification();\n          console.log(\"Check your email.\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n\n      return false;\n    }\n  }\n};\n\nconst signOut = () => {\n  firebase.auth().signOut().then(function () {\n    console.log(\"Successufully Signed out\");\n  }).catch(function () {\n    console.log(\"Error Signed out\");\n  });\n};\n\nconst Signup = () => {\n  _s();\n\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    // eslint-disable-next-line\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged(user => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n  console.log(\"user\", user);\n\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Mainpage\",\n        children: /*#__PURE__*/_jsxDEV(Mainpage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Sign up / Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyleFirebaseAuth, {\n        uiConfig: uiConfig,\n        firebaseAuth: firebase.auth()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n};\n\n_s(Signup, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/aaronyan/Shopping-Platform/frontend/src/Signup.js"],"names":["React","useState","useEffect","firebase","StyleFirebaseAuth","BrowserRouter","Router","Switch","Mainpage","uiConfig","signInFlow","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","callbacks","signInSuccessWithAuthResult","authResult","userInfo","additionalUserInfo","isNewUser","providerId","user","sendEmailVerification","console","log","e","signOut","then","catch","Signup","setUser","currentUser","authObserver","onAuthStateChanged"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,QAA+C,kBAA/C;AACA,OAAOC,QAAP,MAAqB,YAArB;;;AACA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,UAAU,EAAE,OADC;AAEbC,EAAAA,aAAa,EAAE,CACbR,QAAQ,CAACS,IAAT,CAAcC,iBAAd,CAAgCC,WADnB,EAEbX,QAAQ,CAACS,IAAT,CAAcG,kBAAd,CAAiCD,WAFpB,CAFF;AAMbE,EAAAA,SAAS,EAAE;AACTC,IAAAA,2BAA2B,EAAE,MAAOC,UAAP,IAAsB;AACjD,YAAMC,QAAQ,GAAGD,UAAU,CAACE,kBAA5B;;AACA,UAAID,QAAQ,CAACE,SAAT,IAAsBF,QAAQ,CAACG,UAAT,KAAwB,UAAlD,EAA8D;AAC5D,YAAI;AACF,gBAAMJ,UAAU,CAACK,IAAX,CAAgBC,qBAAhB,EAAN;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,SAHD,CAGE,OAAOC,CAAP,EAAU;AACVF,UAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACD;AACF;;AACD,aAAO,KAAP;AACD;AAZQ;AANE,CAAf;;AAsBA,MAAMC,OAAO,GAAG,MAAM;AACpBzB,EAAAA,QAAQ,CACLS,IADH,GAEGgB,OAFH,GAGGC,IAHH,CAGQ,YAAY;AAChBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD,GALH,EAMGI,KANH,CAMS,YAAY;AACjBL,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD,GARH;AASD,CAVD;;AAYA,MAAMK,MAAM,GAAG,MAAM;AAAA;;AACnB,QAAM,CAACR,IAAD,EAAOS,OAAP,IAAkB/B,QAAQ,CAAC,IAAD,CAAhC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMqB,IAAI,GAAGpB,QAAQ,CAACS,IAAT,GAAgBqB,WAA7B;AACA,UAAMC,YAAY,GAAG/B,QAAQ,CAACS,IAAT,GAAgBuB,kBAAhB,CAAoCZ,IAAD,IAAU;AAChES,MAAAA,OAAO,CAACT,IAAD,CAAP;AACD,KAFoB,CAArB;AAGA,WAAOW,YAAP;AACD,GAPQ,CAAT;AAQAT,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;;AAEA,MAAIA,IAAJ,EAAU;AACR,wBACE,QAAC,MAAD;AAAA,6BACE;AAAK,QAAA,SAAS,EAAG,UAAjB;AAAA,+BACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAQD,GATD,MASO;AACL,wBACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,iBAAD;AAAmB,QAAA,QAAQ,EAAEd,QAA7B;AAAuC,QAAA,YAAY,EAAEN,QAAQ,CAACS,IAAT;AAArD;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBADF;AAMD;AACF,CA7BD;;GAAMmB,M;;KAAAA,M;AA+BN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { BrowserRouter as Router, Switch} from \"react-router-dom\";\nimport Mainpage from \"./Mainpage\";\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n  ],\n  callbacks: {\n    signInSuccessWithAuthResult: async (authResult) => {\n      const userInfo = authResult.additionalUserInfo;\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\n        try {\n          await authResult.user.sendEmailVerification();\n          console.log(\"Check your email.\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n      return false;\n    },\n  },\n};\n\nconst signOut = () => {\n  firebase\n    .auth()\n    .signOut()\n    .then(function () {\n      console.log(\"Successufully Signed out\");\n    })\n    .catch(function () {\n      console.log(\"Error Signed out\");\n    });\n};\n\nconst Signup = () => {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    // eslint-disable-next-line\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n  console.log(\"user\", user);\n  \n  if (user) {\n    return(\n      <Router>\n        <div className = 'Mainpage'>\n          <Mainpage />\n        </div>\n      </Router>\n      \n    ); \n  } else {\n    return (\n      <>\n        <div>Sign up / Register</div>\n        <StyleFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </>\n    );\n  }\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}